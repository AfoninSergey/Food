!function(){"use strict";function e(e,t){const o=document.querySelector(e);o.classList.add("show","fade"),o.classList.remove("hide","fadeout"),document.body.style.marginRight=window.innerWidth-document.documentElement.clientWidth+"px",document.body.style.overflow="hidden",t&&clearInterval(t)}function t(e){const t=document.querySelector(e);t.classList.add("fadeout"),setTimeout((()=>{t.classList.add("hide"),t.classList.remove("show","fade"),document.body.style.marginRight="",document.body.style.overflow=""}),200)}function o(e){return e>=0&&e<10?`0${e}`:e}document.addEventListener("DOMContentLoaded",(()=>{const n=setTimeout((()=>{console.log("Open modal by Timer)"),e(".modal",n)}),5e4);(function(){const e=document.querySelector(".calculating__result span"),t=document.querySelectorAll("#gender div"),o=document.querySelectorAll(".calculating__choose_big div"),n=document.querySelectorAll(".calculating__choose input");let c,s,r,a,i;function l(){e.textContent=c&&s&&r&&a&&i?"man"==c?Math.round((88.36+13.4*r+4.8*s-5.7*a)*i):Math.round((447.6+9.2*r+3.1*s-4.3*a)*i):"_ _ _ _"}function d(e){e.getAttribute("data-ratio")?(i=+e.getAttribute("data-ratio"),localStorage.setItem("data-ratio",+e.getAttribute("data-ratio"))):(c=e.getAttribute("id"),localStorage.setItem("id",e.getAttribute("id"))),l()}function u(){o.forEach((e=>{e.classList.remove("calculating__choose-item_active"),e.getAttribute("data-ratio")==i&&e.classList.add("calculating__choose-item_active")})),t.forEach((e=>{e.classList.remove("calculating__choose-item_active"),e.getAttribute("id")==c&&e.classList.add("calculating__choose-item_active")}))}localStorage.getItem("data-ratio")?i=localStorage.getItem("data-ratio"):(i=1.375,localStorage.setItem("data-ratio",1.375)),localStorage.getItem("id")?c=localStorage.getItem("id"):(c="woman",localStorage.setItem("id","woman")),l(),u(),t.forEach((e=>e.addEventListener("click",(e=>{d(e.target),u(e.target)})))),o.forEach((e=>e.addEventListener("click",(e=>{d(e.target),u(e.target)})))),n.forEach((e=>e.addEventListener("input",(e=>{!function(e){switch(e.value=e.value.trim(),e.value.match(/\D/g)?e.style.border="1px solid red":e.style.border="none",e.getAttribute("id")){case"height":s=+e.value;break;case"weight":r=+e.value;break;case"age":a=+e.value}l()}(e.target)}))))})(),function(){document.querySelector(".menu .container").innerHTML="";class e{constructor(e,t,o,n,c,s){this.src=e,this.alt=t,this.title=o,this.descr=n,this.price=c,this.course=61,this.convertUSD();for(var r=arguments.length,a=new Array(r>6?r-6:0),i=6;i<r;i++)a[i-6]=arguments[i];this.classNames=a,this.parent=document.querySelector(s)}convertUSD(){this.price*=this.course}render(){const e=document.createElement("div");this.classNames.length>0?this.classNames.forEach((t=>e.classList.add(t))):e.classList.add("menu__item"),e.innerHTML=`\n        <img src=${this.src} alt=${this.alt}/>\n        <h3 class="menu__item-subtitle">${this.title}</h3>\n        <div class="menu__item-descr">${this.descr}</div>\n        <div class="menu__item-divider"></div>\n        <div class="menu__item-price">\n          <div class="menu__item-cost">Цена:</div>\n          <div class="menu__item-total"><span>${this.price}</span> р/день</div>\n        </div>\n            `,this.parent.append(e)}}(async e=>{const t=await fetch(e);if(!t.ok)throw new Error(`Ошебка! Путь ${e} не фетчится! Статус ${t.status}`);return t.json()})("http://localhost:3000/menu").then((t=>t.forEach((t=>{let{img:o,altimg:n,title:c,descr:s,price:r}=t;new e(o,n,c,s,r,".menu .container").render()}))))}(),function(o,n,c,s){const r=document.querySelector(o),a=r.querySelector(n);document.querySelectorAll(c).forEach((t=>t.addEventListener("click",(()=>e(o,s))))),r.addEventListener("click",(e=>{(e.target.matches(".modal__close")||e.target.matches(".modal")&&a.matches(".show"))&&t(o)})),document.addEventListener("keydown",(e=>{"Escape"==e.code&&r.matches(".show")&&a.matches(".show")&&t(o)})),window.addEventListener("scroll",(function t(){window.scrollY+document.documentElement.clientHeight>=document.documentElement.scrollHeight-1&&(e(o,s),window.removeEventListener("scroll",t))}))}(".modal",".modal__dialog","[data-modal]",n),function(o,n,c,s){function r(s){const r=document.querySelector(o),a=document.querySelector(n);a.classList.add("hide"),a.classList.remove("show");const i=document.createElement("div");i.classList.add("modal__dialog"),i.innerHTML=`\n      <div class="modal__content">      \n        <div class="modal__title">${s}</div>    \n      </div>    \n    `,r.append(i),r.matches(".hide")&&e(o,c),setTimeout((()=>{t(o),setTimeout((()=>{i.remove(),a.classList.add("show"),a.classList.remove("hide")}),200)}),2500)}document.querySelectorAll(s).forEach((e=>function(e){e.addEventListener("submit",(t=>{t.preventDefault();const o=document.createElement("img");o.src="icons/spinner.svg",o.alt="Загрузка...",o.style.cssText="\n        display: block;\n        margin: 0 auto;\n      ",e.insertAdjacentElement("afterend",o);const n=new FormData(e);(async(e,t)=>{const o=await fetch("http://localhost:3000/requests",{method:"POST",headers:{"Content-type":"application/json"},body:t});return await o.json()})(0,JSON.stringify(Object.fromEntries(n.entries()))).then((e=>{console.log(e),r("СПАСИБО! МЫ ВАМ ПЕРЕЗВОНИМ!")})).catch((()=>{r("ОШИБКА СЕРВЕРА... ((")})).finally((()=>{o.remove(),e.reset()}))}))}(e)))}(".modal",".modal__dialog",n,"form"),function(e,t,o,n){const c=document.querySelectorAll(e),s=document.querySelector(t),r=s.querySelectorAll(o);function a(){c.forEach((e=>{e.classList.add("hide"),e.classList.remove("show","fade")})),r.forEach((e=>{e.classList.remove(n)}))}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;c[e].classList.add("show","fade"),c[e].classList.remove("hide"),r[e].classList.add(n)}a(),i(),s.addEventListener("click",(e=>{e.target&&e.target.matches(o)&&r.forEach(((t,o)=>{e.target==t&&(a(),i(o))}))}))}(".tabcontent",".tabheader__items",".tabheader__item","tabheader__item_active"),function(e,t){const n=document.querySelector(e),c=n.querySelector("#days"),s=n.querySelector("#hours"),r=n.querySelector("#minutes"),a=n.querySelector("#seconds"),i=setInterval(l,1e3);function l(){const e=function(e){const t=Date.parse(e)-new Date;return{rem:t,days:Math.floor(t/864e5),hours:Math.floor(t/36e5%24),minutes:Math.floor(t/6e4%60),seconds:Math.floor(t/1e3%60)}}(t);e.rem>0?(c.textContent=o(e.days),s.textContent=o(e.hours),r.textContent=o(e.minutes),a.textContent=o(e.seconds)):(clearInterval(i),c.textContent=s.textContent=r.textContent=a.textContent="00")}l()}(".timer","2022-12-31T21:00:00.000Z"),function(e){let{slidesWrapperSelector:t,slidesInnerSelector:n,slidesSelector:c,prevSelector:s,nextSelector:r,totalSelector:a,currentSelector:i}=e;const l=document.querySelector(t),d=l.querySelector(n),u=d.querySelectorAll(c),m=document.querySelector(s),h=document.querySelector(r),g=document.querySelector(a),f=document.querySelector(i),v=+window.getComputedStyle(l).width.replace(/\D/g,"");let _=1,y=0;const S=document.createElement("ol"),p=[];S.classList.add("carousel-indicators");for(let e=0;e<u.length;e++){const t=document.createElement("li");t.classList.add("dot"),t.setAttribute("data-slider-index",e),p.push(t),S.append(t)}function L(){y>v*(u.length-1)&&(y=0,_=1),y<0&&(y=v*(u.length-1),_=u.length),d.style.transform=`translateX(-${y}px)`,f.textContent=o(_),E()}function E(){p.forEach((e=>{e.style.opacity=".3",e.getAttribute("data-slider-index")==_-1&&(e.style.opacity="1")}))}l.append(S),g.textContent=o(u.length),l.style.cssText="\n      overflow: hidden;\n      position: relative;\n    ",d.style.cssText=`\n      display: flex;\n      width: ${v*u.length}px;\n      transition: .5s;\n    `,L(),h.addEventListener("click",(()=>{y+=v,_++,L()})),m.addEventListener("click",(()=>{y-=v,_--,L()})),E(),p.forEach((e=>{e.addEventListener("click",(()=>{y=v*+e.getAttribute("data-slider-index"),_=+e.getAttribute("data-slider-index")+1,L(),E()}))}))}({slidesWrapperSelector:".offer__slider-wrapper",slidesInnerSelector:".offer__slider-inner",slidesSelector:".offer__slide",prevSelector:".offer__slider-prev",nextSelector:".offer__slider-next",totalSelector:"#total",currentSelector:"#current"})}))}();
//# sourceMappingURL=bundle.js.map